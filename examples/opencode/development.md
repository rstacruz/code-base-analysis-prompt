---
createdAt: 2025-07-22T13:32:28Z
---

# Development Guide

This document provides guidance for developers contributing to the project.

## Development Environment Setup

The project uses `bun` for dependency management and scripting. Ensure you have `bun` installed.

## Repository Structure

The project is a monorepo managed with `bun`. Key directories include:

- `packages/opencode`: The core CLI application.
- `packages/tui`: The Go-based Terminal User Interface (TUI).
- `packages/function`: AWS Lambda functions.
- `packages/web`: Web interface.
- `sdks/github`: GitHub Action SDK.
- `sdks/vscode`: VSCode Extension SDK.
- `infra`: Infrastructure as Code (IaC) using SST.
- `docs`: Project documentation.
- `scripts`: Various utility scripts.

## Development Workflow

### Installation

To install dependencies for the entire project:

```bash
bun install
```

### Running the Application

To run the `opencode` CLI application:

```bash
bun run index.ts
```

### Type Checking

To type check the `opencode` package:

```bash
bun run typecheck
```

### Testing

To run all tests for the `opencode` package:

```bash
bun test
```

To run a specific test file (e.g., for `opencode`):

```bash
bun test test/tool/tool.test.ts
```

### Code Style

- **Runtime**: Bun with TypeScript ESM modules.
- **Imports**: Use relative imports for local modules, named imports preferred.
- **Types**: Zod schemas for validation, TypeScript interfaces for structure.
- **Naming**: `camelCase` for variables/functions, `PascalCase` for classes/namespaces.
- **Error handling**: Use Result patterns, avoid throwing exceptions in tools.
- **File structure**: Namespace-based organization (e.g., `Tool.define()`, `Session.create()`).
- **General**:
    - Prefer single word variable/function names.
    - Avoid `try`/`catch` where possible - prefer to let exceptions bubble up.
    - Avoid `else` statements where possible.
    - Do not make useless helper functions - inline functionality unless the function is reusable or composable.
    - Prefer Bun APIs.
    - Avoid `any` type.
    - Avoid `let` statements.

## Build System

The project uses `bun` for building and running various packages. Specific build commands are typically defined within each `package.json` file.

## Go SDK Regeneration

The Go SDK (used by the TUI) can be regenerated by running:

```bash
./scripts/stainless.ts
```

## Dependencies

- `AGENTS.md`
- `packages/opencode/AGENTS.md`
- `bun.lock`
- `package.json`
- `packages/opencode/package.json`
- `packages/tui/go.mod`
- `scripts/stainless.ts`

**Sources:** `AGENTS.md`, `packages/opencode/AGENTS.md`, `bun.lock`, `package.json`, `packages/opencode/package.json`, `packages/tui/go.mod`, `scripts/stainless.ts`

## Consumers

This document is consumed by developers contributing to the project.
